{"version":3,"sources":["hover_lens/index.js"],"names":["makeLensSection","section","trackContainer","querySelector","onMouseEnter","e","element","currentTarget","classList","contains","visibleSlides","Array","from","querySelectorAll","idx","indexOf","isFirst","isLast","length","parentClasses","push","forEach","c","add","onMouseOut","relatedTarget","remove","slide","wrapper","document","createElement","append","childNodes","appendChild","addEventListener","window"],"mappings":";;;AAmDA,aAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAjDA,SAASA,EAAgBC,GACnBA,GAAAA,EAAS,CACLC,IAAAA,EAAiBD,EAAQE,cAAc,sBAEpCC,SAAAA,EAAaC,GACdC,IAAAA,EAAUD,EAAEE,cACd,GAACD,EAAQE,UAAUC,SAAS,mBAA5B,CAIEC,IAAAA,EAAgBC,MAAMC,KAC1BV,EAAeW,iBAAiB,qBAE9BC,EAAMJ,EAAcK,QAAQT,GAC1BU,EAAkB,IAARF,EACVG,EAASH,IAAQJ,EAAcQ,OAAS,EAExCC,EAAgB,CAAC,YACnBH,EACFG,EAAcC,KAAK,gBACVH,GACTE,EAAcC,KAAK,eAGrBD,EAAcE,QAAQ,SAACC,GAAMpB,OAAAA,EAAeM,UAAUe,IAAID,MAGnDE,SAAAA,EAAWnB,GACFA,EAAEE,cACLE,SAASJ,EAAEoB,gBACrB,CAAA,WAAY,eAAgB,eAAeJ,QAAQ,SAACC,GACnDpB,OAAAA,EAAeM,UAAUkB,OAAOJ,KAMtCrB,EAAQY,iBAAiB,YAAYQ,QAAQ,SAACM,GACtCC,IAAAA,EAAUC,SAASC,cAAc,OACvCF,EAAQpB,UAAUe,IAAI,gBACtBK,EAAQG,OAARH,MAAAA,EAAkBD,EAAAA,EAAMK,aACxBL,EAAMM,YAAYL,GAElBD,EAAMO,iBAAiB,aAAc9B,GACrCuB,EAAMO,iBAAiB,WAAYV,MA9CzC,QAAA,gBAmDAW,OAAOD,iBAAiB,OAAQ,WAC9BL,SAAShB,iBAAiB,SAASQ,QAAQrB","file":"hover_lens.74a6a25c.js","sourceRoot":"../examples","sourcesContent":["import './index.scss';\n\nfunction makeLensSection(section) {\n  if (section) {\n    const trackContainer = section.querySelector('.k-track-container');\n\n    function onMouseEnter(e) {\n      const element = e.currentTarget;\n      if (!element.classList.contains('k-slide-visible')) {\n        return;\n      }\n\n      const visibleSlides = Array.from(\n        trackContainer.querySelectorAll('.k-slide-visible'),\n      );\n      let idx = visibleSlides.indexOf(element);\n      const isFirst = idx === 0;\n      const isLast = idx === visibleSlides.length - 1;\n\n      const parentClasses = ['stepBack'];\n      if (isFirst) {\n        parentClasses.push('firstFocused');\n      } else if (isLast) {\n        parentClasses.push('lastFocused');\n      }\n\n      parentClasses.forEach((c) => trackContainer.classList.add(c));\n    }\n\n    function onMouseOut(e) {\n      const element = e.currentTarget;\n      if (!element.contains(e.relatedTarget)) {\n        ['stepBack', 'firstFocused', 'lastFocused'].forEach((c) =>\n          trackContainer.classList.remove(c),\n        );\n      }\n    }\n\n    // wrap every slide content\n    section.querySelectorAll('.k-slide').forEach((slide) => {\n      const wrapper = document.createElement('div');\n      wrapper.classList.add('lens-wrapper');\n      wrapper.append(...slide.childNodes);\n      slide.appendChild(wrapper);\n\n      slide.addEventListener('mouseenter', onMouseEnter);\n      slide.addEventListener('mouseout', onMouseOut);\n    });\n  }\n}\n\nwindow.addEventListener('load', function() {\n  document.querySelectorAll('.lens').forEach(makeLensSection);\n})\n"]}