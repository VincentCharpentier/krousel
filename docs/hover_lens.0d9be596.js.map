{"version":3,"sources":["hover_lens/index.js"],"names":["makeLensSection","section","onMouseEnter","e","element","currentTarget","classList","contains","visibleSlides","Array","from","trackContainer","querySelectorAll","idx","indexOf","isFirst","isLast","length","parentClasses","push","forEach","c","add","onMouseOut","relatedTarget","remove","querySelector","slide","wrapper","document","createElement","append","childNodes","appendChild","addEventListener","window"],"mappings":";;;AAmDA,aAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,GAjDA,SAASA,EAAgBC,GACnBA,GAAAA,EAAS,CAGFC,IAAAA,EAAT,SAAsBC,GACdC,IAAAA,EAAUD,EAAEE,cACd,GAACD,EAAQE,UAAUC,SAAS,mBAA5B,CAIEC,IAAAA,EAAgBC,MAAMC,KAC1BC,EAAeC,iBAAiB,qBAE9BC,EAAML,EAAcM,QAAQV,GAC1BW,EAAkB,IAARF,EACVG,EAASH,IAAQL,EAAcS,OAAS,EAExCC,EAAgB,CAAC,YACnBH,EACFG,EAAcC,KAAK,gBACVH,GACTE,EAAcC,KAAK,eAGrBD,EAAcE,QAAQ,SAACC,GAAMV,OAAAA,EAAeL,UAAUgB,IAAID,OAGnDE,EAAT,SAAoBpB,GACFA,EAAEE,cACLE,SAASJ,EAAEqB,gBACrB,CAAA,WAAY,eAAgB,eAAeJ,QAAQ,SAACC,GACnDV,OAAAA,EAAeL,UAAUmB,OAAOJ,MA7BhCV,EAAiBV,EAAQyB,cAAc,sBAmC7CzB,EAAQW,iBAAiB,YAAYQ,QAAQ,SAACO,GACtCC,IAAAA,EAAUC,SAASC,cAAc,OACvCF,EAAQtB,UAAUgB,IAAI,gBACtBM,EAAQG,OAARH,MAAAA,EAAkBD,EAAAA,EAAMK,aACxBL,EAAMM,YAAYL,GAElBD,EAAMO,iBAAiB,aAAchC,GACrCyB,EAAMO,iBAAiB,WAAYX,MA9CzC,QAAA,gBAmDAY,OAAOD,iBAAiB,OAAQ,WAC9BL,SAASjB,iBAAiB,SAASQ,QAAQpB","file":"hover_lens.0d9be596.js","sourceRoot":"../examples","sourcesContent":["import './index.scss';\n\nfunction makeLensSection(section) {\n  if (section) {\n    const trackContainer = section.querySelector('.k-track-container');\n\n    function onMouseEnter(e) {\n      const element = e.currentTarget;\n      if (!element.classList.contains('k-slide-visible')) {\n        return;\n      }\n\n      const visibleSlides = Array.from(\n        trackContainer.querySelectorAll('.k-slide-visible'),\n      );\n      let idx = visibleSlides.indexOf(element);\n      const isFirst = idx === 0;\n      const isLast = idx === visibleSlides.length - 1;\n\n      const parentClasses = ['stepBack'];\n      if (isFirst) {\n        parentClasses.push('firstFocused');\n      } else if (isLast) {\n        parentClasses.push('lastFocused');\n      }\n\n      parentClasses.forEach((c) => trackContainer.classList.add(c));\n    }\n\n    function onMouseOut(e) {\n      const element = e.currentTarget;\n      if (!element.contains(e.relatedTarget)) {\n        ['stepBack', 'firstFocused', 'lastFocused'].forEach((c) =>\n          trackContainer.classList.remove(c),\n        );\n      }\n    }\n\n    // wrap every slide content\n    section.querySelectorAll('.k-slide').forEach((slide) => {\n      const wrapper = document.createElement('div');\n      wrapper.classList.add('lens-wrapper');\n      wrapper.append(...slide.childNodes);\n      slide.appendChild(wrapper);\n\n      slide.addEventListener('mouseenter', onMouseEnter);\n      slide.addEventListener('mouseout', onMouseOut);\n    });\n  }\n}\n\nwindow.addEventListener('load', function() {\n  document.querySelectorAll('.lens').forEach(makeLensSection);\n})\n"]}